---
title: "How to Make a Piechart using React and d3"
description: ""
published: 2016-04-15
redirect_from:
  - /blog/how-to-make-a-piechart-using-react-and-d3/swizec/6785
categories: "d3js, Front End, react, react+d3js, reactjs, Technical"
hero: ../../../defaultHero.jpg
---

Piecharts might be the single most mocked chart in the world, but they’re great. Is there a better way to show proportions?

Of course, it all breaks down when you have more than a couple data points. And yes, it’s impossible to gauge the difference between 24% and 26% on a piechart. Not to mention the accessibility issues when the charts rely on colors to distinguish slices.

If you google "never use a piechart”, 597,000 results show up. That’s a bunch of hate for the poor piechart.

**But** they’re easy and fun to make. They’re perfect for showing overwhelming proportions, and there’s nothing like a piechart to make an enterprise presentation more enterprisey.

Especially if you make it 3D.

When I say that a piechart is easy to make, I mean that with 86 lines of very beautiful and readable code, you can make one that looks great. 86 lines might sound like a lot for a piechart, but 33 of those are empty lines or closing braces. That’s 38%.

Let me show you with a piechart :)

![Piechart](https://swizec.com/wp-content/uploads/2016/04/Screen-Shot-2016-04-12-at-02.08.11-300x122.png)

See, piecharts _work_. To build this, we’re going to:

- use a d3 layout to calculate a piechart
- use React stuff to render the piechart
- build a generic `Piechart` component

At the end of this tutorial, you’ll have `Piechart` component that you can use like this:

```javascript
<Piechart x={100} y={100} outerRadius={100} innerRadius={50} data={`{abc}`} />
```

Pretty great, huh?

We’re going to build 3 components:

1.  `Piechart` - the piechart itself
2.  `Arc` - each of the slices
3.  `LabeledArc` - a slice with some text

...

You now have a generic piechart component that you can copy-paste around your codebase whenever you want.

Need a piechart? Use `<Piechart>` and give it some props. The component has you covered.

To recap, here’s what we learned:

- Piecharts are okay, but not great, dataviz
- A Piechart takes **53 lines of real code** to make
- 41 lines with some boilerplate reduction
- A Piechart is made up of 3 components: Piechart, Arc, LabeledArc
- D3 makes the hard maths trivial
- ES6 classes and subclassing are great

You can learn more about using React and d3js together in my new book, React+d3js ES6, [here](https://swizec.com/reactd3js/).