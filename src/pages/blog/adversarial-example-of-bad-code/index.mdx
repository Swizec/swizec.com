---
title: 'Adversarial example of bad code'
description: ""
published: 2018-06-07
redirect_from: 
            - /blog/ref-callbacks-measure-react-component-size/swizec/8444
categories: "Front End, Technical"
hero: ../../../defaultHero.jpg
---
You can use ref callbacks to measure the rendered size of React components, did you know? It's a neat little trick. This is a codesandbox iframe embed

[](https://codesandbox.io/s/71vx2q5r76)

This is a code block with JSX

```javascript
class ReportSize extends React.Component {
  refCallback = (element) => {
    if (element) {
      this.props.getSize(element.getBoundingClientRect());
    }
  };

  render() {
    return (
      <div
        data-prop="hello"
        ref={this.refCallback}
        id="an-id"
        style={{ border: "1px solid red" }}
        keepme={lol}
        href="a link"
        objprop={{ test: "nospace" }}
        objprop2={{ test: "leftspace" }}
      >
        {faker.lorem.paragraphs(Math.random() * 10)}
      </div>
    );
  }
}
```

```javascript
<fadein height={400}>
{onLoad =>
  <img class={cx('img')} src={subheader2} onload={onLoad}>
}
</fadein>
```

```javascript
d3.csv("https://raw.githubusercontent.com/Swizec/server-side-d3-poc/master/src/data.csv")
  .row(this.rowParse)
  .get(data =>
      ReactDOM.hydrate(<app data={data}>, document.getElementById('root'))
  );
</app>
```

This is a MDX style youtube embed

[](https://www.youtube.com/watch?v=Tzcb9lxBRXc)

A full youtube embed

[](https://www.youtube.com/watch?v=Tzcb9lxBRXc)

A mdx style twitter embed

[](https://twitter.com/joshmanders/status/1296085276146663427)

A full twitter embed

[](https://twitter.com/joshmanders/status/1296085276146663427?ref_src=twsrc%5Etfw)

A mdx style instagram embed

[](https://www.instagram.com/p/CD76HESFLy5/)

A full instagram embed

[](https://www.instagram.com/p/CD76HESFLy5/)

This is a codepen html embed

[](https://codepen.io/louflan/pen/JjGVbjY)

A MDX style codepen embed:

[](https://codepen.io/louflan/pen/JjGVbjY)

A twitter link with underscores

[tweet](https://twitter.com/_developit/status/1297374800105672705)

[](https://twitter.com/_developit/status/1297374800105672705)
