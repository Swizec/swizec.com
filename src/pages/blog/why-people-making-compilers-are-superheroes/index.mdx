---
title: "Why people making compilers are superheroes"
description: ""
published: 2012-06-11
redirect_from:
  - /blog/why-people-making-compilers-are-superheroes/swizec/4616
categories: "Abstract syntax tree, Bytecode, Code generation (compiler), Compiler, Machine code, Parsing, Programming language, Type system, Uncategorized"
hero: ./img/--bZymaKlKOg-T6fxqifZAcI-AAAAAAAAudI-fGph9nXdrrY-s1600-20090528_Marvel_Superheroes-742088.jpg
---

![]()![English: Male superhero placeholder with copyr...](http://upload.wikimedia.org/wikipedia/commons/thumb/c/cd/Placeholder_male_superhero_c.png/300px-Placeholder_male_superhero_c.png "English: Male superhero placeholder with copyr...")\_\_

## Building a real compiler

**\_\_**![Parse tree of Python code with inset tokenization](http://upload.wikimedia.org/wikipedia/en/thumb/a/ac/Python_add5_parse.png/300px-Python_add5_parse.png "Parse tree of Python code with inset tokenization")

1.  **Lexical analysis** - parses out comments and whitespace, unifies the language used (a list of lexemes, you use JFlex or something)
2.  **[Syntactical analysis](http://en.wikipedia.org/wiki/Parsing "Parsing")** - checks the syntax is correct and builds the [Abstract Syntax Tree](http://en.wikipedia.org/wiki/Abstract_syntax_tree "Abstract syntax tree") (using a linear grammar with a tool like java_cup)
3.  **[Semantic analysis](http://en.wikipedia.org/wiki/Compiler "Compiler")** - takes care of the semantics of the language (only call functions, supply correct parameters etc. - type checking)
4.  **Frames** - essentially memory management. Give functions some breathing space, pointers to their memory and so on.
5.  **[Intermediate code generation](http://en.wikipedia.org/wiki/Code_generation_%28compiler%29 "Code generation (compiler)")** - this stage turns the AST into a tree of assembler-like instructions
6.  **Code linearization** - next step is to change that tree into a linear set of instructions, make sure registers are used well and so on. At this point you can run an interpreter.
7.  There are a few more stages before reaching [machine code](http://en.wikipedia.org/wiki/Machine_code "Machine code"); luckily we stopped here.

The really fun part is that, given a random issue, any of those stages can be the problem. Even though separately they all look like they're working perfectly.

## The debugging

The debugging ... oh god the debugging. This relatively simple compiler is beyond a doubt the toughest little bastard I have ever had the pleasure of fixing. For starters, you don't even know if there is or isn't a bug. Your only chance at debugging (and finding the bugs in the first place) is to write code in the target language and hope they break something.

1.  Compile the compiler, see Java devours it and all is well
2.  Run the compiler, there are no runtime errors
3.  Write some code in the target language
4.  Compile+run with your compiler/interpreter

![FPGARetrocomputing](http://upload.wikimedia.org/wikipedia/commons/thumb/c/c9/FPGARetrocomputing.jpg/300px-FPGARetrocomputing.jpg "FPGARetrocomputing")_\*\*_![]()![]()\*\*

## Superheroes

And keep in mind that finding the bugs in the first place is **really hard*. ***The professor gave my very buggy compiler a 100%. Simply because every program _he_ ran worked. That's why it can take decades to discover a bug in a compiler used by millions of people. And how many buggy compilers are out there when people just assume their code is the problem and change it? Seriously, the people out there who make compilers and languages used by millions of people are _superheroes._ I can't imagine doing that and keep even a semblance of my fragile sanity. ![Superheroes](./img/--bZymaKlKOg-T6fxqifZAcI-AAAAAAAAudI-fGph9nXdrrY-s1600-20090528_Marvel_Superheroes-742088.jpg "Superheroes")

###### Related articles

- [![](http://i.zemanta.com/noimg_09_80_80.jpg)](http://scientopia.org/blogs/goodmath/2012/06/10/a-neat-trick-with-partial-evalutors/)[A Neat Trick with Partial Evalutors](http://scientopia.org/blogs/goodmath/2012/06/10/a-neat-trick-with-partial-evalutors/)

  ***

- [![](http://i.zemanta.com/91459884_80_80.jpg)](http://www.drdobbs.com/architecture-and-design/240001128)[The Design of LLVM](http://www.drdobbs.com/architecture-and-design/240001128)

  ***

- [![](http://i.zemanta.com/88904330_80_80.jpg)](http://theindustry.cc/2012/05/14/helvetica-superheros-seriously/)[Helvetica Superheros, Seriously](http://theindustry.cc/2012/05/14/helvetica-superheros-seriously/)

  ***

- [![](http://i.zemanta.com/noimg_11_80_80.jpg)](http://nearfetching.wordpress.com/2012/04/28/compilers/)[Compilers](http://nearfetching.wordpress.com/2012/04/28/compilers/)

  ***

- [![](http://i.zemanta.com/noimg_10_80_80.jpg)](https://www.ibm.com/developerworks/mydeveloperworks/blogs/a9ba1efe-b731-4317-9724-a181d6155e3a/entry/maximo_scripting_script_compilation_and_caching1)[Maximo Scripting: Script compilation and caching](https://www.ibm.com/developerworks/mydeveloperworks/blogs/a9ba1efe-b731-4317-9724-a181d6155e3a/entry/maximo_scripting_script_compilation_and_caching1)

  ***

[![Enhanced by Zemanta](http://img.zemanta.com/zemified_e.png?x-id=ceb2ae57-e933-4cb7-9d1f-9a630885c8d1)](http://www.zemanta.com/?px "Enhanced by Zemanta")
